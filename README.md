# 天气和空气质量查询系统

这是一个基于JavaFX开发的天气和空气质量查询应用程序，支持查询北京、上海、广州、成都四个城市各个区域的详细天气预报和空气质量信息。

## 功能特点

### 1. 城市区域支持
- **北京**: 东城区、西城区、朝阳区、丰台区、石景山区、海淀区、通州区、昌平区
- **上海**: 黄浦区、徐汇区、长宁区、静安区、普陀区、虹口区、杨浦区、浦东新区
- **广州**: 荔湾区、越秀区、海珠区、天河区、白云区、黄埔区、番禺区、花都区
- **成都**: 锦江区、青羊区、金牛区、武侯区、成华区、龙泉驿区、青白江区、新都区

### 2. 天气预报功能
- 7天天气预报
- 显示日期、星期、天气状况、最高/最低温度
- 风向和风力等级信息
- 直观的天气图标显示

### 3. 空气质量监测
- 实时AQI指数显示
- PM2.5、PM10、SO₂、NO₂、CO、O₃等详细指标
- 空气质量等级和健康建议
- 多数据源对比，取最低AQI值确保准确性
- 根据污染程度显示不同颜色

### 4. 界面特色
- 现代化的用户界面设计
- 响应式布局，支持滚动查看
- 清晰的数据可视化
- 直观的操作流程

## 运行要求

- Java 17 或更高版本
- Maven 3.6 或更高版本
- JavaFX 21.0.4

## 运行方式

### 方法: 使用Maven运行
```bash
mvn clean compile
mvn javafx:run
```
## 使用说明

1. **选择城市**: 在顶部下拉菜单中选择要查询的城市
2. **选择区域**: 选择城市后，在区域下拉菜单中选择具体的区域
3. **查看天气**: 应用会自动显示该区域的7天天气预报
4. **查看空气质量**: 同时显示该区域的实时空气质量信息

## 项目结构

```
src/main/java/com/avn/weather/
├── App.java                         # 主应用程序入口
├── model/                           # 数据模型
│   ├── WeatherInfo.java            # 天气信息模型
│   ├── AirQuality.java             # 空气质量模型
│   ├── CityDistrict.java           # 城市区域模型
│   ├── geo/                        # 地理位置相关模型
│   │   ├── LocationInfo.java       # 地理位置信息模型
│   │   └── LocationResponse.java   # 地理位置查询响应模型
│   ├── weather/                    # 天气相关模型
│   │   ├── DailyWeather.java       # 每日天气数据模型
│   │   └── WeatherResponse.java    # 天气查询响应模型
│   └── air/                        # 空气质量相关模型
│       ├── AirQualityNow.java      # 当前空气质量数据模型
│       └── AirQualityResponse.java # 空气质量查询响应模型
├── service/                        # 服务层
│   ├── WeatherDataService.java    # 主数据服务（整合各API）
│   ├── GeoLocationService.java    # 地理位置查询服务
│   ├── WeatherApiService.java     # 天气预报API服务
│   └── AirQualityApiService.java  # 空气质量API服务
├── util/                           # 工具类
│   └── WeatherDataConverter.java  # 数据转换工具
└── ui/                             # 用户界面组件
    ├── WeatherCard.java            # 天气卡片组件
    └── AirQualityPanel.java        # 空气质量面板组件
```

## 数据说明

本应用已接入和风天气API，提供真实的天气和空气质量数据：
1. **地理位置查询**: 使用和风天气地理位置查询API获取城市和区域信息
2. **天气预报**: 调用和风天气7天预报API获取详细天气信息
3. **空气质量**: 通过和风天气空气质量API获取实时空气质量数据
4. **数据缓存**: 实现了城市ID缓存机制，提高查询效率

使用前需要：
1. 在API服务类中配置真实的API Host和Token
2. 确保网络连接正常以访问和风天气API

## 扩展功能

未来可以考虑添加：
- 历史天气数据查询
- 天气预警信息
- 更多城市支持
- 移动端适配
- 数据导出功能
- 个性化设置

## 技术栈

- **构建工具**: Maven
- **开发语言**: Java 17
- **UI设计**: 现代化扁平设计风格